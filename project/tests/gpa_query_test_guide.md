# GPA查询功能测试指南

本文档提供了如何测试EDBA系统中新增的GPA查询功能的指导。

## 1. 准备工作

为了测试GPA查询功能，您需要：

1. 确保您已经在教师账户中拥有至少3级权限（access_level >= 3）
2. 启动模拟GPA查询服务器（用于测试外部API调用）

## 2. 启动模拟GPA查询服务器

1. 打开一个新的终端窗口
2. 执行以下命令：

```bash
cd /path/to/EDBA/project/tests
python gpa_test_server.py
```

3. 服务器将在端口5001上运行，并提供测试数据

## 3. 配置GPA查询接口

1. 以O-Convener身份登录EDBA系统
2. 进入接口配置页面
3. 添加一个GPA查询接口，配置如下：
   - 服务类型: score
   - 基础URL: http://127.0.0.1:5001
   - 路径: /api/score
   - 方法: GET 或 POST

## 4. 测试单个学生GPA查询

1. 以拥有3级或以上权限的教师账户登录
2. 在教师仪表盘上，点击"学生GPA查询"按钮
3. 输入以下测试数据之一：
   - 姓名：张三，学号：20230001
   - 姓名：李四，学号：20230002
   - 姓名：王五，学号：20230003
4. 点击"查询GPA"按钮
5. 系统应显示学生的GPA信息，包括课程详情

## 5. 测试批量GPA查询

1. 创建一个Excel文件，包含以下列：
   - name：学生姓名
   - id：学生学号
2. 添加上述测试数据
3. 在GPA查询页面底部的"批量查询"部分，上传Excel文件
4. 点击"批量查询"按钮
5. 系统应显示所有学生的GPA查询结果
6. 您可以点击"导出为Excel"按钮将结果导出

## 注意事项

- 模拟服务器仅包含有限的测试数据，只能查询上述三名学生
- 学生姓名和学号必须完全匹配才能返回结果
- 在实际环境中，GPA查询接口应连接到真实的学生成绩数据库
